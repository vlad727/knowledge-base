1. Удостоверяющие центры (CA)

Удостоверяющие центры играют ключевую роль в создании инфраструктуры открытых ключей (PKI), обеспечивающей безопасность и аутентификацию в Интернете. Они выполняют следующие функции:

- Генерация цифровых сертификатов: Когда владелец сайта хочет защитить свое соединение HTTPS, он создает запрос на получение сертификата (CSR) и направляет его в CA вместе с доказательством владения доменом.
- Проверка подлинности владельца ресурса: Прежде чем подписать сертификат, CA проводит проверку доменного имени и организации, владеющей ресурсом (это называется верификацией домена или расширенной проверкой EV Certificate).
- Создание цифровой подписи: После успешной проверки CA добавляет свою цифровую подпись к сертификату, подтверждая его валидность и доверие к владельцу ресурса.

Процесс выдачи сертификатов выглядит примерно так:

1. Администратор сервера создает пару ключей (открытый и закрытый ключи).
2. Генерирует CSR-запрос, включающий публичный ключ и необходимую информацию о владельце ресурса.
3. Отправляет CSR в CA.
4. CA проверяет запрашиваемого владельца ресурса и подписывает полученный сертификат своим приватным ключом.
5. Сертифицированный документ возвращается администратору сервера.

Полученный сертификат теперь подписан удостоверяющим центром и считается легитимным.


# Механизм проверки сертификата
Вот шаги, которые происходят при обращении клиента к защищенному сайту:

a. Клиент подключается к серверу и инициирует TLS Handshake.
b. Сервер предоставляет свой SSL/TLS-сертификат.
c. Браузер проверяет цепочку сертификатов:

Получив сертификат, браузер смотрит на подпись удостоверяющего центра.
Проверяет, находится ли корневой сертификат в списке доверенных.
Анализирует срок действия сертификата, наличие отзыва (через OCSP или CRL).
d. Если все успешно прошло, начинается обмен сессионными ключами для шифрования последующих сообщений.

Практический пример
Рассмотрим реальный сценарий обращения к сайту google.ru:

Ваш браузер соединяется с серверами Google по протоколу HTTPS.
Google предоставляет своему браузеру SSL/TLS-сертификат, подтверждающий владение доменом google.ru.
Ваш браузер проверяет сертификат:
Сравнивает его подпись с известными корневыми сертификатами (Google использует сертифицирующие центры, такие как GlobalSign или Digicert).
Убедившись в верности сертификата, устанавливает безопасное соединение.
Таким образом, удостоверения центров и хранение корневых сертификатов являются фундаментальным элементом надежной и безопасной передачи данных в сети Интернет.
