- Latency: помогает определить быстроту обработки отдельных операций (задержка);
Average Latency of Read/Write Operations.
Показывают среднее время задержки операций чтения и записи соответственно.
Эти показатели отражают именно продолжительность каждой отдельной операции ввода-вывода (чтение-запись), а не количество операций за единицу времени (это было бы IOps)

- IOps: позволяет оценить общую нагрузку (количество операций).
Read IOps же показывает количество операций ввода-вывода на чтение в секунду, т.е. интенсивность нагрузки именно по количеству запросов чтения.
Write IOps, соответственно, отображает количество операций записи в секунду.


Что такое 99-й процентиль?
Это статистический показатель, который говорит нам следующее: 99% всех операций завершаются быстрее указанного времени. Например, если 99-й процентиль составляет 80 мс, это означает, что лишь 1% операций занимает больше 80 мс.

Почему важна высокая латентность?
Высокая задержка значительно влияет на производительность распределенных систем вроде Etcd, поскольку такие системы критически зависят от быстрых операций записи и синхронизации данных между узлами. Если запись или чтение занимают много времени, система начнет испытывать трудности:

- Медленные выборы нового лидера при сбое текущего.
- Проблемы с консистентностью данных (replication lag).
- Ошибки при попытке завершить транзакции (slow writes).
- Повышение вероятности потери согласованности между репликами.

Критические пороговые значения
Для большинства современных систем рекомендуется следить за тем, чтобы максимальная задержка (особенно на уровне 99-го процентиля) была ниже определённых порогов:

- Рекомендуемый порог: около 10–20 ms (оптимально).
- Крайне допустимый порог: до 100 ms (больше — проблема!).

Значения выше 100 ms уже начинают вызывать серьёзные проблемы с производительностью, особенно для Etcd и аналогичных баз данных.

Графики в Grafana
В Grafana следите за графиками read/write latency (или аналогичные метрики):

- Обратите внимание на средние значения (mean) и максимальное отклонение (max).
- Очень важны также значения percentiles (чаще всего используется 99-й или даже 99.9-й процентиль).

Когда возникают проблемы?
Проблемы начинаются, когда:

- Среднее значение latency превышает 50–70 ms.
- Значительное число операций (процентиль 99+) длится свыше 100 ms.
- Задержка становится нестабильной и резко возрастает.

При таком сценарии возможны:

- Замедление выборов новых лидеров (leader election).
- Увеличение количества ошибок (например, log messages с предупреждениями о медленных операциях).
- Потеря устойчивости (из-за высокой задержки возможна потеря связи узлов).
